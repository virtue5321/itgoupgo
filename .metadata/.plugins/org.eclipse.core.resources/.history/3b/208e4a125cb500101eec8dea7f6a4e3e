<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>${boardName} 게시글 관리</title>

    <!-- ✅ Bootstrap (관리자 UI 통일용) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

    <style>
        body {
            background-color: #f9f9fb;
        }
        .page-title {
            font-size: 1.6rem;
            font-weight: bold;
            margin-bottom: 1.2rem;
            color: #333;
        }
        .admin-card {
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            padding: 25px;
        }
        table th {
            background-color: #f3f4f6;
            font-weight: 600;
        }
        table td, th {
            vertical-align: middle;
        }
        .pagination {
            justify-content: center;
        }
        .back-btn {
            float: right;
        }
    </style>
</head>
<body>
<div class="container my-4">

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="page-title">📂 ${boardName} 관리</h2>
        <a href="/community/admin/post" class="btn btn-outline-secondary btn-sm back-btn">뒤로가기</a>
    </div>

    <div class="admin-card">
        <table class="table table-hover align-middle">
            <thead>
                <tr>
                    <th style="width:8%;">글번호</th>
                    <th style="width:40%;">제목</th>
                    <th style="width:15%;">작성자</th>
                    <th style="width:15%;">작성일</th>
                    <th style="width:10%;">조회수</th>
                </tr>
            </thead>
            <tbody>
                <c:if test="${empty bbsList}">
                    <tr>
                        <td colspan="5" class="text-center text-muted py-4">
                            등록된 게시글이 없습니다.
                        </td>
                    </tr>
                </c:if>

                <c:forEach var="post" items="${bbsList}">
                    <tr>
                        <td>${post.bbsNo}</td>
                        <td class="text-start">${post.bbsTitle}</td>
                        <td>${post.bbsWriter}</td>
                        <td>${post.createDate}</td>
                        <td>${post.bbsCount}</td>
                    </tr>
                </c:forEach>
            </tbody>
        </table>

        <!-- ✅ 페이지네이션 -->
        <nav>
            <ul class="pagination mt-4">
                <c:if test="${pageInfo.currentPage > 1}">
                    <li class="page-item">
                        <a class="page-link" href="?currentPage=${pageInfo.currentPage - 1}">이전</a>
                    </li>
                </c:if>

                <c:forEach var="p" begin="${pageInfo.startPage}" end="${pageInfo.endPage}">
                    <li class="page-item ${p == pageInfo.currentPage ? 'active' : ''}">
                        <a class="page-link" href="?currentPage=${p}">${p}</a>
                    </li>
                </c:forEach>

                <c:if test="${pageInfo.currentPage < pageInfo.maxPage}">
                    <li class="page-item">
                        <a class="page-link" href="?currentPage=${pageInfo.currentPage + 1}">다음</a>
                    </li>
                </c:if>
            </ul>
        </nav>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
