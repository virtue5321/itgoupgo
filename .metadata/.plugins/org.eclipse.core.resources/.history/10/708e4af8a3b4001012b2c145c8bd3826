package com.itgoupgo.community.common.model.vo;

// Pagination ê°ì²´ëŠ” í˜ì´ì§• ì²˜ë¦¬ì— í•„ìš”í•œ ëª¨ë“  ì •ë³´ë¥¼ ë‹´ëŠ” VO(Value Object)ì…ë‹ˆë‹¤.
public class Pagination {
	
	// í•„ë“œ
	private int listCount; 		// í˜„ì¬ ì´ ê²Œì‹œê¸€(ë˜ëŠ” íšŒì›) ìˆ˜
	private int currentPage; 	// í˜„ì¬ í˜ì´ì§€ (ì‚¬ìš©ì ìš”ì²­ ê°’)
	private int pageLimit; 		// í˜ì´ì§• ë°”ì— ë³´ì—¬ì§ˆ ë²„íŠ¼ ìˆ˜ (10ê°œ ê³ ì •)
	private int listLimit; 		// í•œ í˜ì´ì§€ì— ë³´ì—¬ì§ˆ ëª©ë¡ ìˆ˜ (10ê°œ ê³ ì •)
	
	private int maxPage; 		// ê°€ì¥ ë§ˆì§€ë§‰ í˜ì´ì§€ (ì´ í˜ì´ì§€ ìˆ˜)
	private int startPage; 		// í˜ì´ì§• ë°”ì˜ ì‹œì‘ ìˆ˜
	private int endPage; 		// í˜ì´ì§• ë°”ì˜ ë ìˆ˜
	
	// Springì—ì„œ ê¸°ë³¸ ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ í•„ìš”
	public Pagination() {}

    // ğŸ’¡ ì—ëŸ¬ í•´ê²°ì„ ìœ„í•œ í•„ìˆ˜ ìƒì„±ì: AdminServiceì—ì„œ í˜¸ì¶œí•˜ëŠ” ìƒì„±ì
	public Pagination(int currentPage, int listCount, int pageLimit, int listLimit) {
		this.currentPage = currentPage;
		this.listCount = listCount;
		this.pageLimit = pageLimit;
		this.listLimit = listLimit;
		
		// ë‚˜ë¨¸ì§€ í˜ì´ì§• ê³„ì‚° ë¡œì§ ì‹¤í–‰
		calcPagination();
	}
	
    /**
     * í˜ì´ì§• ì²˜ë¦¬ ê³„ì‚° ë¡œì§
     */
	private void calcPagination() {
		
        /* 1. maxPage (ê°€ì¥ ë§ˆì§€ë§‰ í˜ì´ì§€) ê³„ì‚° */
		this.maxPage = (int)Math.ceil((double)listCount / listLimit);
        
        /* 2. startPage (í˜ì´ì§• ë°”ì˜ ì‹œì‘ ìˆ˜) ê³„ì‚° */
		// (currentPage - 1) / pageLimit * pageLimit + 1
		this.startPage = (currentPage - 1) / pageLimit * pageLimit + 1;
		
        /* 3. endPage (í˜ì´ì§• ë°”ì˜ ë ìˆ˜) ê³„ì‚° */
		// startPage + pageLimit - 1
		this.endPage = startPage + pageLimit - 1;
		
        /* 4. endPageê°€ maxPageë³´ë‹¤ í´ ê²½ìš°, endPageë¥¼ maxPageë¡œ ì¡°ì • */
		if(this.endPage > this.maxPage) {
			this.endPage = this.maxPage;
		}
	}
	
	// ğŸ’¡ ì—ëŸ¬ í•´ê²°ì„ ìœ„í•œ í•„ìˆ˜ Getter ë©”ì„œë“œ (AdminController, AdminDaoì—ì„œ ì‚¬ìš©)
	public int getListCount() {
		return listCount;
	}

	public int getCurrentPage() {
		return currentPage;
	}

	public int getPageLimit() {
		return pageLimit;
	}

	public int getListLimit() {
		return listLimit;
	}
    
    // JSPì—ì„œ ì‚¬ìš©í•˜ëŠ” ë‚˜ë¨¸ì§€ Getter ë©”ì„œë“œ (í•„ìš”ì— ë”°ë¼ Setterë„ ì¶”ê°€ ê°€ëŠ¥)
    public int getMaxPage() {
		return maxPage;
	}

	public int getStartPage() {
		return startPage;
	}

	public int getEndPage() {
		return endPage;
	}
}