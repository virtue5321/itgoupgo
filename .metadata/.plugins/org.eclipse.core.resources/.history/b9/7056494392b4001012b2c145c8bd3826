// com.itgoupgo.community.common.template.Pagination.java

import com.itgoupgo.community.common.model.vo.PageInfo;

public class Pagination {
    
    // PageInfo ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•˜ëŠ” ì •ì  ë©”ì†Œë“œ
    public static PageInfo getPageInfo(int listCount, int currentPage, int boardLimit, int pageLimit) {
        
        int maxPage;        // ê°€ì¥ ë§ˆì§€ë§‰ í˜ì´ì§€ ìˆ˜
        int startPage;      // í˜ì´ì§•ë°”ì˜ ì‹œì‘ ìˆ˜
        int endPage;        // í˜ì´ì§•ë°”ì˜ ë ìˆ˜
        
        // ğŸš¨ [í•µì‹¬ ìˆ˜ì •] maxPage ê³„ì‚° ì‹œ, í•˜ë“œì½”ë”©ëœ 5 ëŒ€ì‹  boardLimit(10)ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
        // ex) (22.0 / 10) = 2.2 -> 3
        maxPage = (int)Math.ceil((double)listCount / boardLimit); 

        // ğŸš¨ [ì˜¤ë¥˜ ì›ì¸ ì¶”ì •] ë§Œì•½ ê¸°ì¡´ ì½”ë“œê°€ ë‹¤ìŒê³¼ ê°™ì•˜ë‹¤ë©´, 5ëª…ì”© ê³„ì‚°ë˜ì–´ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.
        // maxPage = (int)Math.ceil((double)listCount / 5); // â¬…ï¸ ì´ ì½”ë“œê°€ ë¬¸ì œì˜ ì›ì¸ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

        // startPage ê³„ì‚°
        // ex) í˜„ì¬ í˜ì´ì§€: 6, pageLimit: 5 -> 6/5 = 1.xx -> 1.xx * 5 + 1 = 6
        startPage = (currentPage - 1) / pageLimit * pageLimit + 1;
        
        // endPage ê³„ì‚°
        // ex) startPage: 6, pageLimit: 5 -> 6 + 5 - 1 = 10
        endPage = startPage + pageLimit - 1;
        
        // endPageê°€ maxPageë³´ë‹¤ í´ ê²½ìš°, endPageë¥¼ maxPageë¡œ ì„¤ì •
        if(endPage > maxPage) {
            endPage = maxPage;
        }
        
        // PageInfo ê°ì²´ ìƒì„± ë° ë°˜í™˜
        return new PageInfo(listCount, currentPage, boardLimit, pageLimit, maxPage, startPage, endPage);
    }
}